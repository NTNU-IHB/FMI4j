plugins {
    id 'java-library'
    id 'kotlin'
}

apply from: rootProject.file("gradle/junit.gradle")
apply from: rootProject.file("gradle/mavenpublish.gradle")
apply from: rootProject.file("gradle/bintraypublish.gradle")

dependencies {

    implementation project(':fmi-md')
    implementation group: 'info.picocli', name: 'picocli', version: '4.5.0'

    testCompile project(':fmi-import')
    testCompile project(':fmi-export')

    testImplementation project(':test-fmus')

}

task testJar(type: Jar) {
    classifier = null
    archiveBaseName.set("fmu-slaves")
    from sourceSets.test.output.classesDirs + configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } + configurations.testCompile.collect { it.isDirectory() ? it : zipTree(it) }
}

test.dependsOn(testJar)
